// ==UserScript==
// @name         体检系统辅助
// @namespace    http://tampermonkey.net/
// @version      0.2.2
// @description  监控特定元素属性的变化，并根据变化执行相应的操作。
// @author       太公摘花
// @match        https://wx.changx.com/*
// @grant        none
// @require      https://code.jquery.com/jquery-3.7.1.js
// @updateURL    https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.meta.js
// @downloadURL  https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.user.js
// ==/UserScript==
const _0x4857dd=_0x3dd6;(function(_0xdb9e1c,_0x152aa3){const _0x458724=_0x3dd6,_0x556959=_0xdb9e1c();while(!![]){try{const _0x60274c=parseInt(_0x458724(0xc4))/0x1+-parseInt(_0x458724(0xcc))/0x2*(-parseInt(_0x458724(0xef))/0x3)+parseInt(_0x458724(0xfd))/0x4+parseInt(_0x458724(0xcb))/0x5*(-parseInt(_0x458724(0xb3))/0x6)+-parseInt(_0x458724(0x102))/0x7+-parseInt(_0x458724(0x100))/0x8+parseInt(_0x458724(0xac))/0x9;if(_0x60274c===_0x152aa3)break;else _0x556959['push'](_0x556959['shift']());}catch(_0x1e4098){_0x556959['push'](_0x556959['shift']());}}}(_0xe8d8,0x824fa),(function(){'use strict';const _0x22b3f4=_0x3dd6;async function _0x5df56d(_0x230ea4){const _0x4a8a52=_0x3dd6,_0x131fa5=await DOMUtils['waitFor'](_0x230ea4),_0x34baa8={'attributes':!![],'attributeFilter':[_0x4a8a52(0xf9)]},_0x3b926a=DOMUtils['creatObserver'](_0x57dc57=>{const _0x5870a4=_0x4a8a52,_0x5956e7=_0x57dc57[_0x5870a4(0xb7)](_0x5870a4(0xed));_0x5956e7!==_0x5870a4(0xde)?(console[_0x5870a4(0xe4)]('对话框显示，3秒后启动标签页监控...'),setTimeout(()=>{const _0x396636=_0x5870a4;manager[_0x396636(0xab)]();},0xbb8)):(console[_0x5870a4(0xe4)](_0x5870a4(0xe7)),manager['stopAll']());});_0x3b926a[_0x4a8a52(0xf8)](_0x131fa5[0x0],_0x34baa8);}$(document)[_0x22b3f4(0xd2)](()=>{const _0x49e4e1=_0x22b3f4;addObservers(manager,actions),_0x5df56d(_0x49e4e1(0xb0));});}()));class DOMUtils{static async[_0x4857dd(0xb6)](_0x105d8a,_0x407701){const _0x5c12b4=_0x4857dd;if(typeof _0x105d8a!==_0x5c12b4(0xea)||typeof _0x407701!=='string')throw new Error('标题和选项参数必须是字符串。');try{console[_0x5c12b4(0xe4)]('正在查找标题为\x20\x22'+_0x105d8a+_0x5c12b4(0xe3));const _0x2caef2=await this[_0x5c12b4(0xd8)](()=>$(_0x5c12b4(0xa2))[_0x5c12b4(0xf6)](function(){const _0x2487db=_0x5c12b4;return $[_0x2487db(0xc3)]($(this)['text']()[_0x2487db(0xa9)]('\x20','')[_0x2487db(0xa9)]('+','')[_0x2487db(0xa9)]('-',''))===_0x105d8a;}));if(_0x2caef2['length']===0x0)return{'success':![],'message':_0x5c12b4(0xd5)+_0x105d8a+'\x22下拉框。'};else{if(_0x2caef2['find'](_0x5c12b4(0xf3))[_0x5c12b4(0xaa)]()!=='')return{'success':![],'message':'\x22'+_0x105d8a+_0x5c12b4(0xa5)};}console[_0x5c12b4(0xe4)](_0x5c12b4(0xf5)+_0x105d8a+_0x5c12b4(0xbb)),_0x2caef2['children']()[_0x5c12b4(0xfe)]()[_0x5c12b4(0xbe)](),console[_0x5c12b4(0xe4)](_0x5c12b4(0xc7)+_0x105d8a+_0x5c12b4(0xa1));const _0x39c0b7=await this[_0x5c12b4(0xd8)](_0x5c12b4(0xa8),()=>!![],0x1388,0x64,()=>{const _0xbee2f0=_0x5c12b4;return console[_0xbee2f0(0xe4)]('\x22'+_0x105d8a+'\x22\x20下拉菜单未出现，重新尝试打开。'),_0x2caef2[_0xbee2f0(0xc9)]()['first']()['click'](),DOMUtils[_0xbee2f0(0xd8)]('div[x-placement=\x22bottom-start\x22]');}),_0x265561=_0x39c0b7[_0x5c12b4(0xba)]('li')[_0x5c12b4(0xf6)]((_0x79485,_0x8f42da)=>$['trim']($(_0x8f42da)[_0x5c12b4(0xcd)]())===_0x407701);if(_0x265561[_0x5c12b4(0xb1)]===0x0)return{'success':![],'message':_0x5c12b4(0xa6)+_0x407701+'\x22。'};return _0x265561[_0x5c12b4(0xbe)](),await this[_0x5c12b4(0xd8)](()=>_0x2caef2[_0x5c12b4(0xba)](_0x5c12b4(0xf3)),_0x3a0b72=>_0x3a0b72[_0x5c12b4(0xaa)]()===_0x407701&&_0x39c0b7[_0x5c12b4(0xb7)](_0x5c12b4(0xed))===_0x5c12b4(0xde)),console[_0x5c12b4(0xe4)]('选项\x20\x22'+_0x407701+_0x5c12b4(0xd3)),{'success':!![],'message':_0x5c12b4(0xe6)+_0x407701+_0x5c12b4(0xc0)};}catch(_0x91299e){return console[_0x5c12b4(0xca)](_0x5c12b4(0xce)+_0x105d8a+_0x5c12b4(0xd4)+_0x91299e['message']),{'success':![],'message':_0x91299e[_0x5c12b4(0xe5)]};}}static['simulateClick'](_0x7e4415){const _0x332bcb=_0x4857dd;$(_0x7e4415)[_0x332bcb(0xe8)](function(){const _0x3ddcd8=_0x332bcb;var _0x18ff0a=$(this)[_0x3ddcd8(0xda)](_0x3ddcd8(0xa0));DOMUtils['clickUncheckedLabel'](_0x18ff0a);});}static[_0x4857dd(0xf4)](_0x38513c){const _0x115722=_0x4857dd;!_0x38513c['parents']('tr')[_0x115722(0xba)](_0x115722(0xa3))[_0x115722(0xb1)]?_0x38513c[_0x115722(0xbe)]():console[_0x115722(0xe4)](_0x115722(0xff));}static['waitFor'](_0x18a698,_0x3381d8=()=>!![],_0x2b10f0=0x7530,_0x2cd4a8=0x64,_0x50cb50=()=>{throw new Error('等待条件满足超时。');}){return new Promise((_0x3eaff5,_0x5bbedb)=>{const _0xda31d4=_0x3dd6,_0x25f76a=Date[_0xda31d4(0xc1)]();function _0x14f15f(){const _0x23880b=_0xda31d4;let _0xa8c50c=typeof _0x18a698===_0x23880b(0xe1)?_0x18a698():$(_0x18a698);if(!(_0xa8c50c instanceof jQuery))return _0x5bbedb(new Error(_0x23880b(0xfc)));if(_0xa8c50c['length']>0x0&&_0x3381d8(_0xa8c50c))_0x3eaff5(_0xa8c50c);else{if(Date[_0x23880b(0xc1)]()-_0x25f76a>_0x2b10f0)try{const _0x38d584=_0x50cb50();_0x38d584 instanceof Promise?_0x38d584[_0x23880b(0xd1)](_0x3eaff5)[_0x23880b(0xdf)](_0x5bbedb):_0x5bbedb(new Error(_0x23880b(0xbd)));}catch(_0x5bf7b1){_0x5bbedb(_0x5bf7b1);}else setTimeout(_0x14f15f,_0x2cd4a8);}}_0x14f15f();});}static[_0x4857dd(0xd7)](_0x1f08b0){const _0x5ee993=new MutationObserver(_0x316311=>{const _0x2c4999=_0x3dd6;_0x316311[_0x2c4999(0xf1)](_0x45f4d0=>_0x1f08b0($(_0x45f4d0[_0x2c4999(0x101)])));});return _0x5ee993;}}class ElementObserver{constructor(_0x543253,_0xcbf156,_0xb57063,_0x1367ec){const _0x3a7328=_0x4857dd;this['selector']=_0x543253,this['attribute']=_0xcbf156,this[_0x3a7328(0xa7)]=_0xb57063,this[_0x3a7328(0xb4)]=_0x1367ec,this[_0x3a7328(0xeb)]=null;}async['start'](){const _0x2bd851=_0x4857dd,_0xd1303d=await DOMUtils[_0x2bd851(0xd8)](this[_0x2bd851(0xc2)]);this.#runAction(_0xd1303d),!this['observer']&&(this[_0x2bd851(0xeb)]=DOMUtils[_0x2bd851(0xd7)](this.#runAction[_0x2bd851(0xaf)](this))),this[_0x2bd851(0xeb)][_0x2bd851(0xf8)](_0xd1303d[0x0],{'attributes':!![],'attributeFilter':[this[_0x2bd851(0xad)]]}),console[_0x2bd851(0xe4)](_0x2bd851(0xe0));}[_0x4857dd(0xec)](){const _0x4438f1=_0x4857dd;this[_0x4438f1(0xeb)]?this[_0x4438f1(0xeb)][_0x4438f1(0xe9)]():console[_0x4438f1(0xd6)]('监控未定义，无需停止。');}[_0x4857dd(0xd9)](){const _0x3825ac=_0x4857dd;this[_0x3825ac(0xec)](),this[_0x3825ac(0xeb)]=null,this[_0x3825ac(0xc2)]=null,this[_0x3825ac(0xad)]=null,this[_0x3825ac(0xa7)]=null,this[_0x3825ac(0xb4)]=null;}#runAction(_0x3212d7){const _0x54a2d2=_0x4857dd;_0x3212d7[_0x54a2d2(0xbf)](this[_0x54a2d2(0xad)])==this[_0x54a2d2(0xa7)]&&this['action'](_0x3212d7);}}function _0xe8d8(){const _0x105c05=['ywrK','m3HzA0TVCq','z2v0','zM9YrwfJAa','ioEAHoINGUwVN+IaHsWG6k+35yU/6yEn5Asn5RE75yQG44cc','Aw5WDxq','y2XPy2TvBMnOzwnRzwrmywjLBa','5OM+5yIW5PYQ6ycj5yc855Qe5lIl5OUj5Qgg77Ym6kEM5y+rici','zMLSDgvY','5Qch562+6Ag1ideG5R+a5Rs777Ym5OMN6kgm5Pon5l2ClI4U','B2jZzxj2zq','C3r5Bgu','CMvTB3zLqwXS','iUMaIEwaVowKSEI0PE+8MG','6ycj5OUP5zMO5OIw5yE95PwW5RkH5PYj6l+u5zUE5lIa5lIQigPrDwvYEsdLR7NOSAhJGii','mtu0ntu4mgTOBffuCq','zMLYC3q','5BEY5A2y5zYO6kkR6ycj5lIT55Qe5Qch562+77Ym6lEZ6l+h5B2t5yMn5Pon5l2C','mZe0otyZmNbNC3jSBa','DgfYz2v0','mZCYmdqZn0nru21lCW','AgfZ','B2jZzxj2zxjZ','BgfIzwW','iIdKUiVMI4NOJ5ZLJzxPGiNPOBNLH7RNJRdJGii','zgL2lMvSlwzVCM0TAxrLBv9Fy29UDgvUDa','BgfIzwWUAxmTy2HLy2TLza','55M957Ug6ioE','iUs4I+AlIEAHHUw3SUMaIEwaVooaGG','5PYQ5OM+5yIW6ycj6Ag5ici','DMfSDwu','zgL2w3GTCgXHy2vTzw50psjIB3r0B20TC3rHCNqIxsWGzgL2w3GTCgXHy2vTzw50psj0B3aTC3rHCNqIxq','CMvWBgfJzufSBa','DMfS','C3rHCNrbBgW','mtaWnZeXogLZBxrVCa','yxr0CMLIDxrL','CMvTB3zL','yMLUza','lMvSlwrPywXVz19FD3jHChbLCI5WywDLlwrPywXVzY5HBgWTDgvZDc1KAwfSB2C','BgvUz3rO','DgfIAw5KzxG','mtyYq2Pbs013','ywn0Aw9U','C2LTDwXHDgvdBgLJAW','C2vSzwn0rhjVCgrVD25pChrPB24','y3nZ','C3vJy2vZCW','zgL2i3bHBMuTmsbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsi0iL0','zMLUza','iIdKUiVMI4NOJ5ZLJzxJGii','5Qch562+6Ag1idiG5R+a5Rs777Ym5OMN6kgm5Pon5l2ClI4U','562j5B6f5P2H5lU25RUH6lAZ6lAf5PE244cc','y2XPy2S','yxr0CG','iIdLT7lMIjdLIP/PGiNMI6NJGii','BM93','C2vSzwn0B3i','DhjPBq','mta2ntC0ogHRBNHZEa','5Bc/5R2C6kga','5BEY5A2y5zYOieLeios4UIa','5Q2J5zYO562j5B6fici','iUMaIEwaVoAiKowkN++8MG','y2HPBgrYzw4','zxjYB3i','mta1nta1wLHtuM5V','oti5mJyYvvLfr2zQ','Dgv4Da','5zYO6ycj5OUPia','5Bc/6jUl55M9','A2v5CW','DgHLBG','CMvHzhK','iIdLT7lMIjdLIP/PGiNMI6NVViZKUiVMI4NOJ5ZLJzxLT7lLHBpPL63JGii','ioAxTUwpKEEuN+MuMEIVRZOG','5PYQ5OM+5yIWiG','D2fYBG','y3jLyxrpyNnLCNzLCG','D2fPDezVCG','CMvZzxq','y2XVC2vZDa','C2v0','C3rVCefSBa','5Bc/6ywU5l2t','BM9Uzq','y2f0y2G','55Ur5O6N5BEY5zcV5yQO44cc','zNvUy3rPB24','C3rHCNq','iIdNMOtKUiVMI4NMOyBJGii','Bg9N','BwvZC2fNzq','6ycj6Ag5ici','5A+56k+D5Qgg6zQq6jEp77Ym5PAT5BYa5Qch562+6Ag155Ur5O6NlI4U','zwfJAa','zgLZy29UBMvJDa','C3rYAw5N','B2jZzxj2zxi','C3rVCa','zgLZCgXHEq'];_0xe8d8=function(){return _0x105c05;};return _0xe8d8();}class ObserverManager{constructor(){const _0xf7be2e=_0x4857dd;this[_0xf7be2e(0x9f)]=new Map();}[_0x4857dd(0xee)](_0x42c796,_0x54d8cd){const _0xa09dd9=_0x4857dd;this[_0xa09dd9(0x9f)][_0xa09dd9(0x103)](_0x42c796)?console[_0xa09dd9(0xd6)](_0xa09dd9(0xc6)+_0x42c796+_0xa09dd9(0xf2)):this[_0xa09dd9(0x9f)][_0xa09dd9(0xdb)](_0x42c796,_0x54d8cd);}[_0x4857dd(0xae)](_0x1687a7){const _0x5a3676=_0x4857dd;this[_0x5a3676(0x9f)][_0x5a3676(0x103)](_0x1687a7)&&(this['observers'][_0x5a3676(0xf0)](_0x1687a7)[_0x5a3676(0xd9)](),this['observers']['delete'](_0x1687a7));}[_0x4857dd(0xe2)](_0x5458f4){const _0x5060c2=_0x4857dd;this[_0x5060c2(0x9f)][_0x5060c2(0x103)](_0x5458f4)&&this[_0x5060c2(0x9f)][_0x5060c2(0xf0)](_0x5458f4)[_0x5060c2(0xe2)]();}[_0x4857dd(0xec)](_0xe56254){const _0x8d269a=_0x4857dd;this['observers'][_0x8d269a(0x103)](_0xe56254)&&this['observers'][_0x8d269a(0xf0)](_0xe56254)[_0x8d269a(0xec)]();}['startAll'](){const _0x44820b=_0x4857dd;this[_0x44820b(0x9f)][_0x44820b(0xf1)](_0x3e764a=>_0x3e764a[_0x44820b(0xe2)]());}[_0x4857dd(0xdc)](){const _0x290ac3=_0x4857dd;this['observers'][_0x290ac3(0xf1)](_0x557037=>_0x557037[_0x290ac3(0xec)]());}[_0x4857dd(0xfa)](){const _0x97beba=_0x4857dd;this[_0x97beba(0x9f)]['forEach'](_0x4c2fd8=>_0x4c2fd8[_0x97beba(0xec)]()),this[_0x97beba(0x9f)]['clear']();}}const actions={'performTab0Actions':async()=>{const _0x550cee=_0x4857dd;let _0x31662f=[_0x550cee(0xcf),'尿糖',_0x550cee(0xdd),_0x550cee(0xc5),_0x550cee(0xa4)];for(let _0x404ea8 of _0x31662f){try{let _0x5f5c1b=await DOMUtils[_0x550cee(0xb6)](_0x404ea8,'-');_0x5f5c1b[_0x550cee(0xb8)]?console[_0x550cee(0xe4)]('\x22'+_0x404ea8+_0x550cee(0xc8)+_0x5f5c1b[_0x550cee(0xe5)]):console[_0x550cee(0xe4)]('\x22'+_0x404ea8+_0x550cee(0xfb)+_0x5f5c1b['message']);}catch(_0x19a515){console[_0x550cee(0xca)](_0x550cee(0xce)+_0x404ea8+_0x550cee(0xd4)+_0x19a515['message']);}}},'performTab1Actions':()=>{const _0x132321=_0x4857dd;console[_0x132321(0xe4)](_0x132321(0xf7)),DOMUtils[_0x132321(0xb5)]('div#pane-1\x20input[type=\x22radio\x22][value=\x221\x22]'),DOMUtils[_0x132321(0xf4)]($(_0x132321(0xb9))[_0x132321(0xfe)]()['closest'](_0x132321(0xa0)));},'performTab2Actions':()=>{const _0x452a3c=_0x4857dd;console[_0x452a3c(0xe4)](_0x452a3c(0xbc)),DOMUtils['simulateClick']('div#pane-2\x20input[type=\x22radio\x22][value=\x220\x22]');}},manager=new ObserverManager();function _0x3dd6(_0x4803e9,_0x3c2a45){const _0xe8d853=_0xe8d8();return _0x3dd6=function(_0x3dd63f,_0x334050){_0x3dd63f=_0x3dd63f-0x9f;let _0x62336=_0xe8d853[_0x3dd63f];if(_0x3dd6['nyGLnC']===undefined){var _0x4e456c=function(_0x5df56d){const _0x230ea4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x131fa5='',_0x34baa8='';for(let _0x3b926a=0x0,_0x57dc57,_0x5956e7,_0x105d8a=0x0;_0x5956e7=_0x5df56d['charAt'](_0x105d8a++);~_0x5956e7&&(_0x57dc57=_0x3b926a%0x4?_0x57dc57*0x40+_0x5956e7:_0x5956e7,_0x3b926a++%0x4)?_0x131fa5+=String['fromCharCode'](0xff&_0x57dc57>>(-0x2*_0x3b926a&0x6)):0x0){_0x5956e7=_0x230ea4['indexOf'](_0x5956e7);}for(let _0x407701=0x0,_0x2caef2=_0x131fa5['length'];_0x407701<_0x2caef2;_0x407701++){_0x34baa8+='%'+('00'+_0x131fa5['charCodeAt'](_0x407701)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x34baa8);};_0x3dd6['hnqFCH']=_0x4e456c,_0x4803e9=arguments,_0x3dd6['nyGLnC']=!![];}const _0x42634a=_0xe8d853[0x0],_0x1f7d8f=_0x3dd63f+_0x42634a,_0x5c1338=_0x4803e9[_0x1f7d8f];return!_0x5c1338?(_0x62336=_0x3dd6['hnqFCH'](_0x62336),_0x4803e9[_0x1f7d8f]=_0x62336):_0x62336=_0x5c1338,_0x62336;},_0x3dd6(_0x4803e9,_0x3c2a45);}function addObservers(_0x3535d0,_0x48b7f6){const _0x37bf98=_0x4857dd;Object[_0x37bf98(0xd0)](_0x48b7f6)['forEach']((_0x3d341b,_0x5c3e1c)=>{const _0x174f44=_0x37bf98,_0xe042a3=new ElementObserver('#tab-'+_0x5c3e1c,_0x174f44(0xb2),0x0,_0x48b7f6[_0x3d341b]);_0x3535d0[_0x174f44(0xee)]('tab'+_0x5c3e1c,_0xe042a3);});}