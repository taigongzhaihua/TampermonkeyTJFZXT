// ==UserScript==
// @name         体检系统辅助
// @namespace    http://tampermonkey.net/
// @version      0.2.3
// @description  监控特定元素属性的变化，并根据变化执行相应的操作。
// @author       太公摘花
// @match        https://wx.changx.com/*
// @grant        none
// @require      https://code.jquery.com/jquery-3.7.1.js
// @updateURL    https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.meta.js
// @downloadURL  https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.user.js
// ==/UserScript==
const _0x44e42d=_0x5824;(function(_0xe5e037,_0x41eaea){const _0x56949d=_0x5824,_0x530a98=_0xe5e037();while(!![]){try{const _0x484d05=parseInt(_0x56949d(0x23a))/0x1+-parseInt(_0x56949d(0x215))/0x2*(parseInt(_0x56949d(0x210))/0x3)+-parseInt(_0x56949d(0x21c))/0x4+parseInt(_0x56949d(0x200))/0x5*(-parseInt(_0x56949d(0x1fc))/0x6)+parseInt(_0x56949d(0x20c))/0x7+parseInt(_0x56949d(0x211))/0x8+parseInt(_0x56949d(0x245))/0x9;if(_0x484d05===_0x41eaea)break;else _0x530a98['push'](_0x530a98['shift']());}catch(_0x3e9f68){_0x530a98['push'](_0x530a98['shift']());}}}(_0x2d48,0x7eeee),(function(){'use strict';$(document)['ready'](()=>{const _0x3927de=_0x5824;addObservers(tabsManager,actions),monitorDialog(_0x3927de(0x256));});}()));class DOMUtils{static async[_0x44e42d(0x206)](_0x4e054b,_0x358af1){const _0x20a82f=_0x44e42d;if(typeof _0x4e054b!==_0x20a82f(0x248)||typeof _0x358af1!==_0x20a82f(0x248))throw new Error(_0x20a82f(0x1f6));try{console[_0x20a82f(0x20d)](_0x20a82f(0x217)+_0x4e054b+_0x20a82f(0x228));const _0x2dec75=await this[_0x20a82f(0x1f8)](()=>$('div.el-form-item__content')[_0x20a82f(0x22d)](function(){const _0x4db6f0=_0x20a82f;return $[_0x4db6f0(0x20f)]($(this)[_0x4db6f0(0x20b)]()[_0x4db6f0(0x249)]('\x20','')[_0x4db6f0(0x249)]('+','')[_0x4db6f0(0x249)]('-',''))===_0x4e054b;}));if(_0x2dec75[_0x20a82f(0x223)]===0x0)return{'success':![],'message':_0x20a82f(0x1f9)+_0x4e054b+_0x20a82f(0x1fe)};else{if(_0x2dec75[_0x20a82f(0x203)](_0x20a82f(0x205))['val']()!=='')return{'success':![],'message':'\x22'+_0x4e054b+_0x20a82f(0x208)};}console[_0x20a82f(0x20d)](_0x20a82f(0x234)+_0x4e054b+_0x20a82f(0x21b)),_0x2dec75[_0x20a82f(0x20e)]()[_0x20a82f(0x232)]()[_0x20a82f(0x21d)](),console[_0x20a82f(0x20d)](_0x20a82f(0x23b)+_0x4e054b+'\x22\x20下拉菜单选项出现。');const _0x179228=await this[_0x20a82f(0x1f8)](_0x20a82f(0x23e),()=>!![],0x1388,0x64,()=>{const _0x464386=_0x20a82f;return console[_0x464386(0x20d)]('\x22'+_0x4e054b+'\x22\x20下拉菜单未出现，重新尝试打开。'),_0x2dec75['children']()[_0x464386(0x232)]()[_0x464386(0x21d)](),DOMUtils[_0x464386(0x1f8)](_0x464386(0x22a));}),_0x5e2f78=_0x179228[_0x20a82f(0x203)]('li')[_0x20a82f(0x22d)]((_0x31f6ff,_0x3ffad8)=>$[_0x20a82f(0x20f)]($(_0x3ffad8)[_0x20a82f(0x20b)]())===_0x358af1);if(_0x5e2f78[_0x20a82f(0x223)]===0x0)return{'success':![],'message':_0x20a82f(0x20a)+_0x358af1+'\x22。'};return _0x5e2f78[_0x20a82f(0x21d)](),await this[_0x20a82f(0x1f8)](()=>_0x2dec75[_0x20a82f(0x203)](_0x20a82f(0x205)),_0x531a93=>_0x531a93[_0x20a82f(0x213)]()===_0x358af1&&_0x179228[_0x20a82f(0x22b)]('display')==='none'),console[_0x20a82f(0x20d)](_0x20a82f(0x204)+_0x358af1+_0x20a82f(0x1f7)),{'success':!![],'message':_0x20a82f(0x204)+_0x358af1+_0x20a82f(0x216)};}catch(_0xe6a20a){return console[_0x20a82f(0x254)](_0x20a82f(0x241)+_0x4e054b+'\x20时发生错误:\x20'+_0xe6a20a[_0x20a82f(0x220)]),{'success':![],'message':_0xe6a20a['message']};}}static[_0x44e42d(0x22c)](_0x1614aa){const _0x1039e5=_0x44e42d;$(_0x1614aa)[_0x1039e5(0x244)](function(){const _0x406d06=_0x1039e5;var _0x54d795=$(this)[_0x406d06(0x24b)](_0x406d06(0x1f4));DOMUtils[_0x406d06(0x239)](_0x54d795);});}static[_0x44e42d(0x239)](_0x17bd4a){const _0x3ea18a=_0x44e42d;!_0x17bd4a[_0x3ea18a(0x219)]('tr')[_0x3ea18a(0x203)](_0x3ea18a(0x252))[_0x3ea18a(0x223)]?_0x17bd4a['click']():console[_0x3ea18a(0x20d)]('已存在被选中的标签，跳过当前操作');}static[_0x44e42d(0x1f8)](_0x469258,_0x220fae=()=>!![],_0x220358=0x7530,_0x521b0e=0x64,_0x4c9bfc=()=>{const _0x12bd97=_0x44e42d;throw new Error(_0x12bd97(0x21f));}){return new Promise((_0x13b11d,_0xf081ae)=>{const _0x45c2ff=_0x5824,_0xc48a6b=Date[_0x45c2ff(0x227)]();function _0x3da7cd(){const _0xe6cac0=_0x45c2ff;let _0x1fdbf4=typeof _0x469258===_0xe6cac0(0x230)?_0x469258():$(_0x469258);if(!(_0x1fdbf4 instanceof jQuery))return _0xf081ae(new Error('\x22selector\x22\x20参数无法获取一个正确的\x20jQuery\x20对象，请检查参数。'));if(_0x1fdbf4[_0xe6cac0(0x223)]>0x0&&_0x220fae(_0x1fdbf4))_0x13b11d(_0x1fdbf4);else{if(Date[_0xe6cac0(0x227)]()-_0xc48a6b>_0x220358)try{const _0x5e7bf4=_0x4c9bfc();_0x5e7bf4 instanceof Promise?_0x5e7bf4[_0xe6cac0(0x253)](_0x13b11d)[_0xe6cac0(0x247)](_0xf081ae):_0xf081ae(new Error(_0xe6cac0(0x21f)));}catch(_0x575730){_0xf081ae(_0x575730);}else setTimeout(_0x3da7cd,_0x521b0e);}}_0x3da7cd();});}static[_0x44e42d(0x1fd)](_0x53204c){const _0x6dc9a1=new MutationObserver(_0x521c16=>{const _0x37efb9=_0x5824;_0x521c16[_0x37efb9(0x24a)](_0x3753bf=>_0x53204c($(_0x3753bf[_0x37efb9(0x24f)])));});return _0x6dc9a1;}}function _0x5824(_0x44048f,_0x2f785d){const _0x2d4823=_0x2d48();return _0x5824=function(_0x5824da,_0x2667c7){_0x5824da=_0x5824da-0x1f2;let _0x368479=_0x2d4823[_0x5824da];if(_0x5824['BZtTDY']===undefined){var _0x45a2b9=function(_0x4e054b){const _0x358af1='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2dec75='',_0x179228='';for(let _0x5e2f78=0x0,_0x31f6ff,_0x3ffad8,_0x531a93=0x0;_0x3ffad8=_0x4e054b['charAt'](_0x531a93++);~_0x3ffad8&&(_0x31f6ff=_0x5e2f78%0x4?_0x31f6ff*0x40+_0x3ffad8:_0x3ffad8,_0x5e2f78++%0x4)?_0x2dec75+=String['fromCharCode'](0xff&_0x31f6ff>>(-0x2*_0x5e2f78&0x6)):0x0){_0x3ffad8=_0x358af1['indexOf'](_0x3ffad8);}for(let _0xe6a20a=0x0,_0x1614aa=_0x2dec75['length'];_0xe6a20a<_0x1614aa;_0xe6a20a++){_0x179228+='%'+('00'+_0x2dec75['charCodeAt'](_0xe6a20a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x179228);};_0x5824['aVOnwO']=_0x45a2b9,_0x44048f=arguments,_0x5824['BZtTDY']=!![];}const _0x5e00da=_0x2d4823[0x0],_0x576178=_0x5824da+_0x5e00da,_0x4aeb57=_0x44048f[_0x576178];return!_0x4aeb57?(_0x368479=_0x5824['aVOnwO'](_0x368479),_0x44048f[_0x576178]=_0x368479):_0x368479=_0x4aeb57,_0x368479;},_0x5824(_0x44048f,_0x2f785d);}class ElementObserver{constructor(_0x1841c4,_0x3c61c8,_0x2f456e,_0x29b683){const _0x46454a=_0x44e42d;this[_0x46454a(0x221)]=_0x1841c4,this['attribute']=_0x3c61c8,this[_0x46454a(0x23d)]=_0x2f456e,this['action']=_0x29b683,this['observer']=null;}async['start'](){const _0x242713=_0x44e42d,_0x4b779e=await DOMUtils['waitFor'](this[_0x242713(0x221)]);this.#runAction(_0x4b779e),!this[_0x242713(0x224)]&&(this['observer']=DOMUtils[_0x242713(0x1fd)](this.#runAction[_0x242713(0x226)](this))),this[_0x242713(0x224)][_0x242713(0x22f)](_0x4b779e[0x0],{'attributes':!![],'attributeFilter':[this[_0x242713(0x246)]]}),console[_0x242713(0x20d)](_0x242713(0x229));}['stop'](){const _0x136940=_0x44e42d;this[_0x136940(0x224)]?this[_0x136940(0x224)][_0x136940(0x1ff)]():console[_0x136940(0x24e)]('监控未定义，无需停止。');}[_0x44e42d(0x23f)](){const _0x312a8e=_0x44e42d;this[_0x312a8e(0x21e)](),this[_0x312a8e(0x224)]=null,this[_0x312a8e(0x221)]=null,this[_0x312a8e(0x246)]=null,this[_0x312a8e(0x23d)]=null,this[_0x312a8e(0x24d)]=null;}#runAction(_0x308589){const _0xd5f362=_0x44e42d;_0x308589[_0xd5f362(0x236)](this[_0xd5f362(0x246)])==this[_0xd5f362(0x23d)]&&this[_0xd5f362(0x24d)](_0x308589);}}class ObserverManager{constructor(){const _0x1ae090=_0x44e42d;this[_0x1ae090(0x1f3)]=new Map();}['add'](_0x1d60c5,_0x410a94){const _0x5a280a=_0x44e42d;this[_0x5a280a(0x1f3)][_0x5a280a(0x1fb)](_0x1d60c5)?console[_0x5a280a(0x24e)]('已存在\x20ID\x20为\x20'+_0x1d60c5+_0x5a280a(0x233)):this[_0x5a280a(0x1f3)]['set'](_0x1d60c5,_0x410a94);}[_0x44e42d(0x251)](_0xb74969){const _0xb35743=_0x44e42d;this[_0xb35743(0x1f3)][_0xb35743(0x1fb)](_0xb74969)&&(this['observers'][_0xb35743(0x222)](_0xb74969)[_0xb35743(0x23f)](),this[_0xb35743(0x1f3)]['delete'](_0xb74969));}['start'](_0x41a297){const _0x33af4e=_0x44e42d;this['observers'][_0x33af4e(0x1fb)](_0x41a297)&&this[_0x33af4e(0x1f3)][_0x33af4e(0x222)](_0x41a297)[_0x33af4e(0x250)]();}[_0x44e42d(0x21e)](_0x12b567){const _0x445e66=_0x44e42d;this[_0x445e66(0x1f3)][_0x445e66(0x1fb)](_0x12b567)&&this[_0x445e66(0x1f3)][_0x445e66(0x222)](_0x12b567)[_0x445e66(0x21e)]();}[_0x44e42d(0x243)](){const _0x5dc9a4=_0x44e42d;this[_0x5dc9a4(0x1f3)][_0x5dc9a4(0x24a)](_0x46e2cc=>_0x46e2cc['start']());}[_0x44e42d(0x242)](){const _0x52380b=_0x44e42d;this[_0x52380b(0x1f3)]['forEach'](_0x376e00=>_0x376e00['stop']());}[_0x44e42d(0x1f5)](){const _0x1a2bdb=_0x44e42d;this[_0x1a2bdb(0x1f3)][_0x1a2bdb(0x24a)](_0x15214e=>_0x15214e[_0x1a2bdb(0x21e)]()),this[_0x1a2bdb(0x1f3)]['clear']();}}const actions={'performTab0Actions':async()=>{const _0x26dbec=_0x44e42d;let _0x175a8d=[_0x26dbec(0x23c),'尿糖',_0x26dbec(0x238),_0x26dbec(0x1fa),'白细胞'];for(let _0xa0164a of _0x175a8d){try{let _0x290d96=await DOMUtils[_0x26dbec(0x206)](_0xa0164a,'-');_0x290d96[_0x26dbec(0x202)]?console[_0x26dbec(0x20d)]('\x22'+_0xa0164a+_0x26dbec(0x231)+_0x290d96[_0x26dbec(0x220)]):console[_0x26dbec(0x20d)]('\x22'+_0xa0164a+_0x26dbec(0x22e)+_0x290d96[_0x26dbec(0x220)]);}catch(_0x9443b5){console['error'](_0x26dbec(0x241)+_0xa0164a+_0x26dbec(0x201)+_0x9443b5[_0x26dbec(0x220)]);}}},'performTab1Actions':()=>{const _0x518418=_0x44e42d;console[_0x518418(0x20d)](_0x518418(0x24c)),DOMUtils['simulateClick'](_0x518418(0x209)),DOMUtils[_0x518418(0x239)]($(_0x518418(0x255))[_0x518418(0x232)]()[_0x518418(0x24b)](_0x518418(0x1f4)));},'performTab2Actions':()=>{const _0x4e8456=_0x44e42d;console[_0x4e8456(0x20d)]('标签页\x202\x20激活，执行操作...'),DOMUtils['simulateClick'](_0x4e8456(0x1f2));}},tabsManager=new ObserverManager();function _0x2d48(){const _0x125ed3=['zMLYC3q','ioEAHoINGUwVN+IaHsWG6k+35yU/6yEn5Asn5RE75yQG44cc','5OM+5yIW5PYQ6ycj5yc855Qe5lIl5OUj5Qgg77Ym6kEM5y+rici','A2v5CW','yxr0CG','5A+56k+D5Qgg6zQq6jEp77Ym5PAT5BYa5Qch562+6Ag155Ur5O6NlI4U','5Bc/6ywU5l2t','y2XPy2TvBMnOzwnRzwrmywjLBa','ntK1otCYDxnHvejl','5Q2J5zYO562j5B6fici','5Bc/6jUl55M9','DMfSDwu','zgL2w3GTCgXHy2vTzw50psjIB3r0B20TC3rHCNqIxsWGzgL2w3GTCgXHy2vTzw50psj0B3aTC3rHCNqIxq','CMvZzxq','C3r5Bgu','5zYO6ycj5OUPia','C3rVCefSBa','C3rHCNrbBgW','zwfJAa','otyWntG3mu1NB3DhCa','yxr0CMLIDxrL','y2f0y2G','C3rYAw5N','CMvWBgfJzufSBa','zM9YrwfJAa','y2XVC2vZDa','5Qch562+6Ag1ideG5R+a5Rs777Ym5OMN6kgm5Pon5l2ClI4U','ywn0Aw9U','D2fYBG','DgfYz2v0','C3rHCNq','CMvTB3zL','BgfIzwWUAxmTy2HLy2TLza','DgHLBG','zxjYB3i','zgL2i3bHBMuTmsbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsi0iL0','lMvSlwrPywXVz19FD3jHChbLCI5WywDLlwrPywXVzY5HBgWTDgvZDc1KAwfSB2C','zgL2i3bHBMuTmIbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsiWiL0','B2jZzxj2zxjZ','BgfIzwW','CMvTB3zLqwXS','5Qch6Aky5zkm6ycj6Ag55y+c5PwW5B+f6Ag75PIV5A2x56YM5lIY44cc','iIdLT7lMIjdLIP/PGiNMI6NVViZKUiVMI4NOJ5ZLJzxLT7lLHBpPL63JGii','D2fPDezVCG','5PYQ5OM+5yIWiG','5Bc/5R2C6kga','AgfZ','ntq3otGWuxP1y2rP','y3jLyxrpyNnLCNzLCG','iUs4I+AlIEAHHUoaGG','zgLZy29UBMvJDa','mJbTrLzqyxG','ioAxTUwpKEEuN+MuMEIVRZOG','C3vJy2vZCW','zMLUza','6ycj6Ag5ici','Aw5WDxq','C2vSzwn0rhjVCgrVD25pChrPB24','ywrK','iUs4I+AlIEAHHUw3SUMaIEwaVooaGG','zgL2i3bHBMuTmsbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsiXiL0','5PYQ5OM+5yIW6ycj6Ag5ici','Dgv4Da','otiWmZi1CuPABwD6','Bg9N','y2HPBgrYzw4','DhjPBq','m3rPDePvCW','ndy2ndy2ng1XzxDmyq','DgfI','DMfS','i3rHyI0','mtK0mteXmKzYruriEa','iIdLT7lMIjdLIP/PGiNMI6NJGii','5Q2J5zYO5P+L5OM+5Qch6Aky5lI6ici','5A+56k+D5Qgg5PI+56s677Ymm+ENKUwqJUwqR+wkQoAGH+ETVUMHTEEBKEAoPY4UlG','CgfYzw50CW','DgfIAw5KzxG','iIdKUiVMI4NOJ5ZLJzxJGii','mJa4odiYmfv6zKPcBW','y2XPy2S','C3rVCa','562j5B6f6lAf5PE244cc','BwvZC2fNzq','C2vSzwn0B3i','z2v0','BgvUz3rO','B2jZzxj2zxi','BM9Uzq','yMLUza','BM93','iIdNMOtKUiVMI4NMOyBJGii','55Ur5O6N5BEY5zcV5yQO44cc','zgL2w3GTCgXHy2vTzw50psjIB3r0B20TC3rHCNqIxq','y3nZ','C2LTDwXHDgvdBgLJAW','zMLSDgvY','iUMaIEwaVowKSEI0PE+8MG','B2jZzxj2zq','zNvUy3rPB24','iUMaIEwaVoAiKowkN++8MG'];_0x2d48=function(){return _0x125ed3;};return _0x2d48();}function addObservers(_0x2a968a,_0x90f3b3){const _0x397483=_0x44e42d;Object[_0x397483(0x235)](_0x90f3b3)[_0x397483(0x24a)]((_0x3c96cf,_0x5813a0)=>{const _0x3220b8=_0x397483,_0x54eeec=new ElementObserver(_0x3220b8(0x214)+_0x5813a0,_0x3220b8(0x21a),0x0,_0x90f3b3[_0x3c96cf]);_0x2a968a[_0x3220b8(0x207)](_0x3220b8(0x212)+_0x5813a0,_0x54eeec);});}async function monitorDialog(_0x30bdb0){const _0x470d81=_0x44e42d,_0x4f573e=await DOMUtils['waitFor'](_0x30bdb0),_0x24acd4={'attributes':!![],'attributeFilter':[_0x470d81(0x240)]},_0xfa8474=DOMUtils[_0x470d81(0x1fd)](_0x98257e=>{const _0x3c1c4a=_0x470d81,_0x11e0f1=_0x98257e[_0x3c1c4a(0x22b)]('display');_0x11e0f1!==_0x3c1c4a(0x225)?(console[_0x3c1c4a(0x20d)](_0x3c1c4a(0x218)),setTimeout(()=>{const _0x19183e=_0x3c1c4a;tabsManager[_0x19183e(0x243)]();},0xbb8)):(console[_0x3c1c4a(0x20d)](_0x3c1c4a(0x237)),tabsManager[_0x3c1c4a(0x242)]());});_0xfa8474['observe'](_0x4f573e[0x0],_0x24acd4);}