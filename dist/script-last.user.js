// ==UserScript==
// @name         体检系统辅助
// @namespace    http://tampermonkey.net/
// @version      0.2.4
// @description  监控特定元素属性的变化，并根据变化执行相应的操作。
// @author       太公摘花
// @icon         https://wx.changx.com/favicon.ico
// @match        https://wx.changx.com/*
// @grant        none
// @require      https://code.jquery.com/jquery-3.7.1.js
// @updateURL    https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.meta.js
// @downloadURL  https://raw.githubusercontent.com/taigongzhaihua/TampermonkeyTJFZXT/main/dist/script-last.user.js
// ==/UserScript==
function _0x4724(_0x18192a,_0x23c4cc){const _0x1a3e85=_0x1a3e();return _0x4724=function(_0x472465,_0x4bf1a5){_0x472465=_0x472465-0xcb;let _0x5a4f8f=_0x1a3e85[_0x472465];if(_0x4724['okffFm']===undefined){var _0x2d1b8b=function(_0x2c9504){const _0x1096c9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2d370b='',_0x510e12='';for(let _0x2f94ba=0x0,_0x3a1e53,_0x59e644,_0x4d7f33=0x0;_0x59e644=_0x2c9504['charAt'](_0x4d7f33++);~_0x59e644&&(_0x3a1e53=_0x2f94ba%0x4?_0x3a1e53*0x40+_0x59e644:_0x59e644,_0x2f94ba++%0x4)?_0x2d370b+=String['fromCharCode'](0xff&_0x3a1e53>>(-0x2*_0x2f94ba&0x6)):0x0){_0x59e644=_0x1096c9['indexOf'](_0x59e644);}for(let _0x230e4a=0x0,_0x409c79=_0x2d370b['length'];_0x230e4a<_0x409c79;_0x230e4a++){_0x510e12+='%'+('00'+_0x2d370b['charCodeAt'](_0x230e4a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x510e12);};_0x4724['SqYYTo']=_0x2d1b8b,_0x18192a=arguments,_0x4724['okffFm']=!![];}const _0x8c5367=_0x1a3e85[0x0],_0x491249=_0x472465+_0x8c5367,_0x1c2d11=_0x18192a[_0x491249];return!_0x1c2d11?(_0x5a4f8f=_0x4724['SqYYTo'](_0x5a4f8f),_0x18192a[_0x491249]=_0x5a4f8f):_0x5a4f8f=_0x1c2d11,_0x5a4f8f;},_0x4724(_0x18192a,_0x23c4cc);}const _0x47032b=_0x4724;(function(_0x48f870,_0x374433){const _0x47f5e9=_0x4724,_0x26ff0b=_0x48f870();while(!![]){try{const _0x1eda55=parseInt(_0x47f5e9(0xfd))/0x1*(-parseInt(_0x47f5e9(0xd0))/0x2)+parseInt(_0x47f5e9(0xd5))/0x3+-parseInt(_0x47f5e9(0x120))/0x4*(parseInt(_0x47f5e9(0xce))/0x5)+-parseInt(_0x47f5e9(0xf7))/0x6*(-parseInt(_0x47f5e9(0xe8))/0x7)+-parseInt(_0x47f5e9(0xe3))/0x8*(-parseInt(_0x47f5e9(0xe1))/0x9)+-parseInt(_0x47f5e9(0x10d))/0xa*(parseInt(_0x47f5e9(0x109))/0xb)+parseInt(_0x47f5e9(0x10e))/0xc;if(_0x1eda55===_0x374433)break;else _0x26ff0b['push'](_0x26ff0b['shift']());}catch(_0x5c97b9){_0x26ff0b['push'](_0x26ff0b['shift']());}}}(_0x1a3e,0x77ef6),(function(){'use strict';$(document)['ready'](()=>{addObservers(tabsManager,actions),monitorDialog('.el-dialog__wrapper.page-dialog.all-test-dialog');});}()));class DOMUtils{static async[_0x47032b(0x125)](_0x2c9504,_0x1096c9){const _0x1ed337=_0x47032b;if(typeof _0x2c9504!=='string'||typeof _0x1096c9!==_0x1ed337(0x115))throw new Error(_0x1ed337(0xe7));try{console['log'](_0x1ed337(0x11e)+_0x2c9504+_0x1ed337(0xf2));const _0x2d370b=await this[_0x1ed337(0x127)](()=>$(_0x1ed337(0xd2))[_0x1ed337(0x102)](function(){const _0x134ac7=_0x1ed337;return $[_0x134ac7(0xf1)]($(this)['text']()[_0x134ac7(0xf3)]('\x20','')[_0x134ac7(0xf3)]('+','')[_0x134ac7(0xf3)]('-',''))===_0x2c9504;}));if(_0x2d370b[_0x1ed337(0xf4)]===0x0)return{'success':![],'message':'未找到\x22'+_0x2c9504+_0x1ed337(0x11f)};else{if(_0x2d370b['find'](_0x1ed337(0x112))[_0x1ed337(0xe2)]()!=='')return{'success':![],'message':'\x22'+_0x2c9504+_0x1ed337(0x123)};}console[_0x1ed337(0x10c)](_0x1ed337(0x11d)+_0x2c9504+_0x1ed337(0xe4)),_0x2d370b[_0x1ed337(0xdc)]()[_0x1ed337(0x10b)]()[_0x1ed337(0x108)](),console[_0x1ed337(0x10c)](_0x1ed337(0xfc)+_0x2c9504+_0x1ed337(0xda));const _0x510e12=await this[_0x1ed337(0x127)](_0x1ed337(0x103),()=>!![],0x1388,0x64,()=>{const _0x44a0c2=_0x1ed337;return console[_0x44a0c2(0x10c)]('\x22'+_0x2c9504+_0x44a0c2(0x122)),_0x2d370b['children']()[_0x44a0c2(0x10b)]()['click'](),DOMUtils[_0x44a0c2(0x127)]('div[x-placement=\x22bottom-start\x22]');}),_0x2f94ba=_0x510e12[_0x1ed337(0x129)]('li')['filter']((_0x3a1e53,_0x59e644)=>$[_0x1ed337(0xf1)]($(_0x59e644)[_0x1ed337(0x116)]())===_0x1096c9);if(_0x2f94ba[_0x1ed337(0xf4)]===0x0)return{'success':![],'message':_0x1ed337(0xde)+_0x1096c9+'\x22。'};return _0x2f94ba[_0x1ed337(0x108)](),await this['waitFor'](()=>_0x2d370b[_0x1ed337(0x129)](_0x1ed337(0x112)),_0x4d7f33=>_0x4d7f33[_0x1ed337(0xe2)]()===_0x1096c9&&_0x510e12[_0x1ed337(0xee)](_0x1ed337(0x119))===_0x1ed337(0xe6)),console['log'](_0x1ed337(0xed)+_0x1096c9+'\x22\x20已成功选择，下拉菜单已关闭。'),{'success':!![],'message':'选项\x20\x22'+_0x1096c9+_0x1ed337(0x118)};}catch(_0x230e4a){return console[_0x1ed337(0xe9)](_0x1ed337(0x110)+_0x2c9504+_0x1ed337(0x128)+_0x230e4a[_0x1ed337(0xd3)]),{'success':![],'message':_0x230e4a[_0x1ed337(0xd3)]};}}static['simulateClick'](_0x409c79){const _0x5583d4=_0x47032b;$(_0x409c79)[_0x5583d4(0xcd)](function(){const _0x465310=_0x5583d4;var _0x4d8235=$(this)['closest']('label');DOMUtils[_0x465310(0xef)](_0x4d8235);});}static[_0x47032b(0xef)](_0x5cb5c0){const _0x345322=_0x47032b;!_0x5cb5c0[_0x345322(0x10a)]('tr')[_0x345322(0x129)](_0x345322(0xf9))[_0x345322(0xf4)]?_0x5cb5c0[_0x345322(0x108)]():console['log'](_0x345322(0xd7));}static[_0x47032b(0x127)](_0x229944,_0x2073e9=()=>!![],_0x468842=0x7530,_0x3fc9b1=0x64,_0x5c27b7=()=>{const _0x109326=_0x47032b;throw new Error(_0x109326(0xdf));}){return new Promise((_0x502276,_0xa70080)=>{const _0x445edd=_0x4724,_0x5f8fcc=Date[_0x445edd(0x117)]();function _0x25c4a4(){const _0x124071=_0x445edd;let _0x1d82ef=typeof _0x229944===_0x124071(0xd9)?_0x229944():$(_0x229944);if(!(_0x1d82ef instanceof jQuery))return _0xa70080(new Error(_0x124071(0x111)));if(_0x1d82ef['length']>0x0&&_0x2073e9(_0x1d82ef))_0x502276(_0x1d82ef);else{if(Date[_0x124071(0x117)]()-_0x5f8fcc>_0x468842)try{const _0x4424cd=_0x5c27b7();_0x4424cd instanceof Promise?_0x4424cd[_0x124071(0x126)](_0x502276)[_0x124071(0xfa)](_0xa70080):_0xa70080(new Error('等待超时。'));}catch(_0x510272){_0xa70080(_0x510272);}else setTimeout(_0x25c4a4,_0x3fc9b1);}}_0x25c4a4();});}static[_0x47032b(0xd4)](_0x37a376){const _0x3e842e=new MutationObserver(_0x3293e9=>{const _0x57b236=_0x4724;_0x3293e9[_0x57b236(0xff)](_0x554420=>_0x37a376($(_0x554420['target'])));});return _0x3e842e;}}function _0x1a3e(){const _0x2f1bd1=['iUs4I+AlIEAHHUoaGG','mZiWoe9isu1mwa','C3rHCNrbBgW','iIdKUiVMI4NOJ5ZLJzxMNkRLH7RNJRdVViZPH43MLRdLSj3OR5xMIzpLVidJGii','iUs4I+AlIEAHHUw3SUMaIEwaVooaGG','5Qch562+6Ag1ideG5R+a5Rs777Ym5OMN6kgm5Pon5l2ClI4U','C2vSzwn0rhjVCgrVD25pChrPB24','DgHLBG','D2fPDezVCG','ioAxTUwpKEEuN+MuMEIVRZOG','zMLUza','zgL2i3bHBMuTmsbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsiXiL0','5A+56k+D5Qgg5PI+56s677Ymm+ENKUwqJUwqR+wkQoAGH+ETVUMHTEEBKEAoPY4UlG','yMLUza','zgL2i3bHBMuTmsbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsi0iL0','C3r5Bgu','B2jZzxj2zxi','CMvZzxq','C3vJy2vZCW','55M957Ug6ioE','AgfZ','zwfJAa','mtCXnu9MDe1hwa','C2vSzwn0B3i','mM1kt3DvAG','B2jZzxj2zxjZ','zgL2lMvSlwzVCM0TAxrLBv9Fy29UDgvUDa','BwvZC2fNzq','y3jLyxrpyNnLCNzLCG','mtmXmJeZn1fxv01hAG','CMvTB3zLqwXS','5BEY5A2y5zYO6kkR6ycj5lIT55Qe5Qch562+77Ym6lEZ6l+h5B2t5yMn5Pon5l2C','C3rVCa','zNvUy3rPB24','iIdKUiVMI4NOJ5ZLJzxPGiNPOBNLH7RNJRdJGii','DMfSDwu','y2HPBgrYzw4','iUMaIEwaVowKSEI0PE+8MG','5PYQ5OM+5yIW6ycj6Ag5ici','562j5B6f6lAf5PE244cc','iUMaIEwaVoAiKowkN++8MG','mJu4odrkBvPjufK','DMfS','mtq0ohHZANjhyG','iIdKUiVMI4NOJ5ZLJzxJGii','DgfI','BM9Uzq','5Qch6Aky5zkm6ycj6Ag55y+c5PwW5B+f6Ag75PIV5A2x56YM5lIY44cc','odq2odeXD1bfqKrA','zxjYB3i','DgfIAw5KzxG','zgvSzxrL','zgL2i3bHBMuTmIbPBNb1DfT0ExbLpsjYywrPBYjDw3zHBhvLpsiWiL0','6ycj6Ag5ici','y3nZ','y2XPy2TvBMnOzwnRzwrmywjLBa','yxr0CMLIDxrL','DhjPBq','iIdNMOtKUiVMI4NMOyBJGii','CMvWBgfJzufSBa','BgvUz3rO','5BEY5A2y5zYOieLeios4UIa','CMvTB3zL','nNDjr2Xysq','z2v0','BgfIzwWUAxmTy2HLy2TLza','y2f0y2G','C3rHCNq','5Q2J5zYO562j5B6fici','nJK3mJq5ChvJrxbY','55Ur5O6N5PYQ5A6A5lMj77Ym5PEG6zYa5ygC5Q2I44cc','zM9YrwfJAa','55Ur5O6N5BEY5zcV5yQO44cc','C2LTDwXHDgvdBgLJAW','zMLSDgvY','zgL2w3GTCgXHy2vTzw50psjIB3r0B20TC3rHCNqIxsWGzgL2w3GTCgXHy2vTzw50psj0B3aTC3rHCNqIxq','5A+56k+D5Qgg6zQq6jEp77Ym5PAT5BYa5Qch562+6Ag155Ur5O6NlI4U','ywn0Aw9U','ioEAHoINGUwVN+IaHsWG6k+35yU/6yEn5Asn5RE75yQG44cc','B2jZzxj2zq','y2XPy2S','mJjVuhLUCgK','CgfYzw50CW','zMLYC3q','Bg9N','mJy0mteZmgz5txvzza','mta5ntq4odryEuLss3G','i3rHyI0','5zYO6ycj5OUPia','iNnLBgvJDg9YiIdLJ4lMLBdML6dMS5xOJRFLJ5BKUidKUkRMRApNOA7NMOqGALf1zxj5iowVUEIXOE+8JoIVT+AJGoAFPEwpGUAvSooaGG','Aw5WDxq','ywrK','D2fYBG','C3rYAw5N','Dgv4Da','BM93','iIdLT7lMIjdLIP/PGiNMI6NJGii','zgLZCgXHEq','C3rVCefSBa','5Bc/5R2C6kga','5Bc/6ywU5l2t','5OM+5yIW5PYQ6ycj5yc855Qe5lIl5OUj5Qgg77Ym6kEM5y+rici','5Q2J5zYO5P+L5OM+5Qch6Aky5lI6ici'];_0x1a3e=function(){return _0x2f1bd1;};return _0x1a3e();}class ElementObserver{constructor(_0x25e9c6,_0x57698a,_0x5197b2,_0x13fea5){const _0x308a47=_0x47032b;this[_0x308a47(0xcf)]=_0x25e9c6,this['attribute']=_0x57698a,this[_0x308a47(0xdb)]=_0x5197b2,this[_0x308a47(0x105)]=_0x13fea5,this[_0x308a47(0x12f)]=null;}async[_0x47032b(0xfb)](){const _0x43f71f=_0x47032b,_0x5ea8fa=await DOMUtils['waitFor'](this[_0x43f71f(0xcf)]);this.#runAction(_0x5ea8fa),!this[_0x43f71f(0x12f)]&&(this[_0x43f71f(0x12f)]=DOMUtils[_0x43f71f(0xd4)](this.#runAction[_0x43f71f(0x12c)](this))),this['observer'][_0x43f71f(0x107)](_0x5ea8fa[0x0],{'attributes':!![],'attributeFilter':[this[_0x43f71f(0xf0)]]}),console['log'](_0x43f71f(0x100));}[_0x47032b(0xd8)](){const _0x493e60=_0x47032b;this[_0x493e60(0x12f)]?this[_0x493e60(0x12f)]['disconnect']():console[_0x493e60(0x114)](_0x493e60(0xfe));}[_0x47032b(0x130)](){const _0x1451f4=_0x47032b;this[_0x1451f4(0xd8)](),this['observer']=null,this[_0x1451f4(0xcf)]=null,this['attribute']=null,this[_0x1451f4(0xdb)]=null,this[_0x1451f4(0x105)]=null;}#runAction(_0x526b9e){const _0x466235=_0x47032b;_0x526b9e['attr'](this[_0x466235(0xf0)])==this['value']&&this['action'](_0x526b9e);}}class ObserverManager{constructor(){const _0x4843a8=_0x47032b;this[_0x4843a8(0xd1)]=new Map();}[_0x47032b(0x113)](_0x19afcc,_0x248ddc){const _0x3e9322=_0x47032b;this[_0x3e9322(0xd1)]['has'](_0x19afcc)?console[_0x3e9322(0x114)](_0x3e9322(0xf5)+_0x19afcc+_0x3e9322(0x106)):this[_0x3e9322(0xd1)]['set'](_0x19afcc,_0x248ddc);}[_0x47032b(0xf6)](_0x2c0a36){const _0x168b31=_0x47032b;this['observers'][_0x168b31(0xcc)](_0x2c0a36)&&(this[_0x168b31(0xd1)][_0x168b31(0xf8)](_0x2c0a36)[_0x168b31(0x130)](),this[_0x168b31(0xd1)][_0x168b31(0xeb)](_0x2c0a36));}[_0x47032b(0xfb)](_0x4bed14){const _0x1fe023=_0x47032b;this[_0x1fe023(0xd1)]['has'](_0x4bed14)&&this[_0x1fe023(0xd1)][_0x1fe023(0xf8)](_0x4bed14)[_0x1fe023(0xfb)]();}[_0x47032b(0xd8)](_0x29c2a7){const _0x241d6f=_0x47032b;this[_0x241d6f(0xd1)][_0x241d6f(0xcc)](_0x29c2a7)&&this['observers'][_0x241d6f(0xf8)](_0x29c2a7)['stop']();}['startAll'](){const _0x40e309=_0x47032b;this[_0x40e309(0xd1)][_0x40e309(0xff)](_0x3fc5a7=>_0x3fc5a7[_0x40e309(0xfb)]());}[_0x47032b(0x11a)](){const _0x564f83=_0x47032b;this['observers'][_0x564f83(0xff)](_0x26102e=>_0x26102e[_0x564f83(0xd8)]());}[_0x47032b(0xd6)](){const _0x59672c=_0x47032b;this[_0x59672c(0xd1)][_0x59672c(0xff)](_0x249988=>_0x249988['stop']()),this[_0x59672c(0xd1)]['clear']();}}const actions={'performTab0Actions':async()=>{const _0x13506d=_0x47032b;let _0x155e55=['尿蛋白','尿糖',_0x13506d(0x11c),_0x13506d(0x11b),_0x13506d(0xcb)];for(let _0x33e42b of _0x155e55){try{let _0x1f5712=await DOMUtils[_0x13506d(0x125)](_0x33e42b,'-');_0x1f5712[_0x13506d(0x131)]?console[_0x13506d(0x10c)]('\x22'+_0x33e42b+_0x13506d(0xe0)+_0x1f5712[_0x13506d(0xd3)]):console['log']('\x22'+_0x33e42b+_0x13506d(0xdd)+_0x1f5712['message']);}catch(_0x56dc75){console[_0x13506d(0xe9)]('在选择\x20'+_0x33e42b+_0x13506d(0x128)+_0x56dc75['message']);}}},'performTab1Actions':()=>{const _0xf92f23=_0x47032b;console[_0xf92f23(0x10c)](_0xf92f23(0x124)),DOMUtils[_0xf92f23(0x101)](_0xf92f23(0x12a)),DOMUtils[_0xf92f23(0xef)]($(_0xf92f23(0x12d))[_0xf92f23(0x10b)]()['closest']('label'));},'performTab2Actions':()=>{const _0x2c0ada=_0x47032b;console['log']('标签页\x202\x20激活，执行操作...'),DOMUtils[_0x2c0ada(0x101)](_0x2c0ada(0xec));}},tabsManager=new ObserverManager();function addObservers(_0x577ab6,_0x3c820d){const _0x3735e2=_0x47032b;Object['keys'](_0x3c820d)[_0x3735e2(0xff)]((_0xedb249,_0x5dd133)=>{const _0xe0390a=_0x3735e2,_0x475037=new ElementObserver(_0xe0390a(0x10f)+_0x5dd133,_0xe0390a(0xea),0x0,_0x3c820d[_0xedb249]);_0x577ab6[_0xe0390a(0x113)](_0xe0390a(0xe5)+_0x5dd133,_0x475037);});}async function monitorDialog(_0xc51b97){const _0x16b9ca=_0x47032b,_0x418eb7=await DOMUtils[_0x16b9ca(0x127)](_0xc51b97),_0x417a74={'attributes':!![],'attributeFilter':[_0x16b9ca(0x12e)]},_0x4f8b66=DOMUtils[_0x16b9ca(0xd4)](_0x3ce4f0=>{const _0x4f0ed1=_0x16b9ca,_0x2783d4=_0x3ce4f0['css'](_0x4f0ed1(0x119));_0x2783d4!==_0x4f0ed1(0xe6)?(console[_0x4f0ed1(0x10c)](_0x4f0ed1(0x12b)),setTimeout(()=>{const _0x22ba29=_0x4f0ed1;tabsManager[_0x22ba29(0x121)]();},0xbb8)):(console['log'](_0x4f0ed1(0x104)),tabsManager[_0x4f0ed1(0x11a)]());});_0x4f8b66[_0x16b9ca(0x107)](_0x418eb7[0x0],_0x417a74);}